<!DOCTYPE HTML>
<html>
	<head>
		<title>Calculadora</title>
		<style>
			.caixa{

			background-color:white;

			border:0px;

			width:250px;

			height: 40px;

			font-size: 20px;

			color: black;

			text-align: right;

			pointer-events: none;

			}
			.caixa1{

			height: 20px;

			font-size: 16px;

			}

			.caixa2{

			margin-bottom: 5px;

			font-size: 26px;

			}
			.boto{

				font-size: 18px;

				font-weight:lighter;

				font-family:Segoe, "Segoe UI", "DejaVu Sans", "Trebuchet MS", Verdana, "sans-serif";

				width:60px;border:0px;

				height: 60px;

				color: white;

				background-color:blue;

				margin-bottom: 5px;

			}
		</style>
	</head>
	<body>
		<form name="forma"><br>
			<table bgColor="black" border="0" align="center" cellpadding="2" cellspacing="0">
				<tr><td colspan="4"><input type="text" class="caixa1 caixa" name="caixa1">
					<br>
					<input type="text" class="caixa2 caixa" name="caixa2" value="0"></td></tr>
				<!-- Primera filera de botons-->
					<tr><th><INPUT TYPE="button" class="boto" Id="7" VALUE="7" onclick="escriure(this.value)"></th>
					<th><INPUT TYPE="button" class="boto" Id="8" VALUE="8" onclick="escriure(this.value)"></th>
					<th><INPUT TYPE="button" class="boto" Id="9" VALUE="9" onclick="escriure(this.value)"></th>
					<th><INPUT TYPE="button" class="boto" Id="/" VALUE="/" onClick="operacio('/')"></th></tr>
				<!-- Segona filera de botons-->
					<tr><th><INPUT TYPE="button" class="boto" Id="4" VALUE="4" onclick="escriure(this.value)"></th>
					<th><INPUT TYPE="button" class="boto" Id="5" VALUE="5" onclick="escriure(this.value)"></th>
					<th><INPUT TYPE="button" class="boto" Id="6" VALUE="6" onclick="escriure(this.value)"></th>
					<th><INPUT TYPE="button" class="boto" Id="x" VALUE="*" onClick="operacio('*')"></th>
				<!-- TerÃ§era filera de botons-->
					<tr><th><INPUT TYPE="button" class="boto" Id="1" VALUE="1" onclick="escriure(this.value)"></th>
					<th><INPUT TYPE="button" class="boto" Id="2" VALUE="2" onclick="escriure(this.value)"></th>
					<th><INPUT TYPE="button" class="boto" Id="3" VALUE="3" onclick="escriure(this.value)"></th>
					<th><INPUT TYPE="button" class="boto" Id="-" VALUE="-" onClick="operacio('-')"></th></tr>
				<!-- Quarta filera de botons-->
					<tr><th><INPUT TYPE="button" class="boto" Id="0" VALUE="0" onclick="escriure(this.value)"></th>
					<th><INPUT TYPE="button" class="boto" Id="." VALUE="." onClick="escriure('.')"></th>
					<th><INPUT TYPE="button" class="boto" Id="=" VALUE="=" onClick="calcular()"></th>
					<th><INPUT TYPE="button" class="boto" Id="+" VALUE="+" onClick="operacio('+')"></th></tr>
					<!-- Cinquena filera de botons-->
					<tr><th colspan="2"><INPUT TYPE="button" class="boto" Id="borrar" VALUE="C" onClick="document.forma.reset(); blocdel = false;"></th>
					<th colspan="2"><INPUT TYPE="button" class="boto" Id="borrar" VALUE="CE" onClick="document.forma.caixa2.value='0'"></th></tr>
			</table>
		</form>
		<script type="text/javascript">
			
		   function escriure(n){
				var caixa2 = document.forma.caixa2.value;
				if (borrar) {
					document.forma.caixa2.value="";
					borrar = false;
					document.forma.caixa2.value = n;
				}else if (caixa2 == "0" && n != "."){
					cajao = caixa2.replace("0", "")
					document.forma.caixa2.value = cajao + n;
				}
				else{
					document.forma.caixa2.value = caixa2 + n;
				}
			}
			
			var borrar = false;
			
			function operacio(o){
				var caixa1 = document.forma.caixa1.value;
				var caixa2 = document.forma.caixa2.value;
				var unNum = caixa1.substring(caixa1.length-1);
				calcular()
				if (unNum == "+" || unNum == "-" || unNum=="*" || unNum=="/") {
					unNum = unNum.replace(unNum,o);
					var res = caixa1.substring(0,caixa1.length-1);
					document.forma.caixa1.value = res+unNum;
				}
				if (caixa1 == "" && caixa2 != ""){
					document.forma.caixa1.value = caixa2 + o;
				}
				else{
					document.forma.caixa1.value = caixa1 + caixa2 + o;
				}
				borrar = true;
			}
			
			function calcular(){
				var caixa1 = document.forma.caixa1.value;
				var caixa2 = document.forma.caixa2.value;
				document.forma.caixa2.value = eval(caixa1 + caixa2);
				document.forma.caixa1.value = "";
				borrar = true;
				blocdel = true;
			}
			
		</script>
	</body>
</html>
